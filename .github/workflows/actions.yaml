name: dns_records
on:
  workflow_dispatch:
    inputs:
      c01-replicasLX:
        type: choice
        description: 'cluster C01 LX Replicas count'
        options:
        - "1"
        - "2"
        - "3"
        - "4"
        - "5"
      C02-replicasLX:
        type: choice
        description: 'cluster C02 LX Replicas count'
        options:
        - "1"
        - "2"
        - "3"
        - "4"
        - "5"        
      clusters_list:
        type: string
        description: 'list of clusters'
        required: true
        default: 'c01,c02'
env:
  NAMESPACES: 'dev,qa,stg'
jobs:
  dns_records:
    runs-on: ubuntu-latest
    steps:
      - name: Get MongoDB Dump
        run: |
          declare -A svc_ip_lxbdmc01
          START=3
          prevCount=1
          for i in $(eval echo "{$START..$prevCount}")
          do
            SVC_IP=10.96.1.$i
            HOSTNAME=lxkdbmc01-$i.lxkdbmc01-svc.cluster.local
            svc_ip_lxbdmc01+=( [$HOSTNAME]=$SVC_IP)
          done

          for key in ${!svc_ip_lxbdmc01[@]}; do
            echo ${key} ${svc_ip_lxbdmc01[${key}]}
          done
        shell: bash
          
          
 


      
